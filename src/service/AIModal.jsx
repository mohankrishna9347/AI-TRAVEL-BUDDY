import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location : Las  Vegas, for 3 days  for couple with  a cheap budget, Give me a Hotels options list with HotelName, Hotel Address, Price, Hotel Image URL,GEO Coordinates,Ticket Pricing, Rating , Time travel each of the\n location for 3 days with each day plan  with best time to visit  in JSON Format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $80 per night\",\n      \"hotelImageURL\": \"https://www.circuscircus.com/wp-content/uploads/2022/01/cc_entrance-1600x800.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1299,\n        \"longitude\": -115.1668\n      },\n      \"rating\": 3.5\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $90 per night\",\n      \"hotelImageURL\": \"https://www.excalibur.com/content/dam/eclv/page-header/exterior/eclv-exterior-ph.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0955,\n        \"longitude\": -115.1746\n      },\n      \"rating\": 4\n    },\n   {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$45 - $100 per night\",\n      \"hotelImageURL\": \"https://media.expedia.com/hotels/1000000/50000/42100/42049/2df30c2a_z.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1762\n      },\n      \"rating\": 4\n    }\n  ],\n  \"dailyPlan\": [\n    {\n      \"day\": 1,\n      \"theme\": \"Exploring the Strip (South)\",\n      \"activities\": [\n        {\n          \"activityName\": \"Welcome to Las Vegas Sign\",\n          \"description\": \"Take the obligatory photo at the iconic sign.\",\n          \"bestTimeToVisit\": \"Early morning (before 9 AM) to avoid crowds.\",\n          \"ticketPricing\": \"Free\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1736\n          },\n          \"estimatedTime\": \"30 minutes\",\n          \"timeTravelFromHotel\": \"Variable, depending on hotel location (walking/bus/taxi)\"\n        },\n        {\n          \"activityName\": \"Luxor Hotel & Casino\",\n          \"description\": \"Explore the Egyptian-themed hotel. See the Sphinx and the Luxor Sky Beam at night.\",\n          \"bestTimeToVisit\": \"Afternoon for daytime exploring, evening for the Sky Beam.\",\n          \"ticketPricing\": \"Free to enter, attractions inside may have fees\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1762\n          },\n          \"estimatedTime\": \"2-3 hours\",\n          \"timeTravelFromHotel\": \"Variable, depending on hotel location (walking/bus/taxi)\"\n        },\n        {\n          \"activityName\": \"Excalibur Hotel & Casino\",\n          \"description\": \"Visit this medieval-themed hotel.\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"ticketPricing\": \"Free to enter, attractions inside may have fees\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0955,\n            \"longitude\": -115.1746\n          },\n          \"estimatedTime\": \"1-2 hours\",\n          \"timeTravelFromHotel\": \"Walking distance from Luxor\"\n        },\n        {\n          \"activityName\": \"Mandalay Bay (Shark Reef Aquarium - optional)\",\n          \"description\": \"If budget allows, visit the Shark Reef Aquarium.\",\n          \"bestTimeToVisit\": \"Anytime\",\n          \"ticketPricing\": \"Shark Reef Aquarium: ~$30 per person\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0922,\n            \"longitude\": -115.1756\n          },\n          \"estimatedTime\": \"2-3 hours (including aquarium)\",\n          \"timeTravelFromHotel\": \"Walking distance from Excalibur\"\n        },\n        {\n          \"activityName\": \"Free Show: Fountains of Bellagio (Evening)\",\n          \"description\": \"Watch the spectacular fountain show.\",\n          \"bestTimeToVisit\": \"Evening (shows every 30 minutes or 15 minutes)\",\n          \"ticketPricing\": \"Free\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1742\n          },\n          \"estimatedTime\": \"1 hour (including travel)\",\n          \"timeTravelFromHotel\": \"Bus or taxi required to get to Bellagio\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"theme\": \"Downtown Las Vegas & Freemont Street Experience\",\n      \"activities\": [\n        {\n          \"activityName\": \"Travel to Downtown Las Vegas\",\n          \"description\": \"Use the Deuce bus ($8 for a 24-hour pass is a good option for budget travelers) or rideshare.\",\n          \"bestTimeToVisit\": \"Morning\",\n          \"ticketPricing\": \"Bus: ~$8 for 24-hour pass\",\n          \"geoCoordinates\": null,\n          \"estimatedTime\": \"45-60 minutes (travel time)\",\n          \"timeTravelFromHotel\": \"Variable depending on hotel location\"\n        },\n        {\n          \"activityName\": \"Fremont Street Experience\",\n          \"description\": \"Explore the pedestrian mall with its Viva Vision light show and street performers.\",\n          \"bestTimeToVisit\": \"Afternoon for exploration, evening for the light show.\",\n          \"ticketPricing\": \"Free\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1421\n          },\n          \"estimatedTime\": \"3-4 hours\",\n          \"timeTravelFromHotel\": \"N/A\"\n        },\n        {\n          \"activityName\": \"Container Park\",\n          \"description\": \"A unique shopping and dining area built from shipping containers.\",\n          \"bestTimeToVisit\": \"Afternoon/Evening\",\n          \"ticketPricing\": \"Free to enter, prices vary for food and shopping.\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1673,\n            \"longitude\": -115.1404\n          },\n          \"estimatedTime\": \"1-2 hours\",\n          \"timeTravelFromHotel\": \"Walking distance from Fremont Street\"\n        },\n        {\n          \"activityName\": \"Circus Circus Adventuredome (Optional)\",\n          \"description\": \"If budget allows, enjoy the indoor theme park.\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"ticketPricing\": \"Adventuredome: ~$35 per person\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1301,\n            \"longitude\": -115.1667\n          },\n          \"estimatedTime\": \"2-3 hours\",\n          \"timeTravelFromHotel\": \"Bus or taxi ride from Fremont Street (allow 30-45 minutes travel time).\"\n        },\n        {\n          \"activityName\": \"Fremont Street Light Show (Evening)\",\n          \"description\": \"Enjoy the Viva Vision light show on Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening (shows every hour)\",\n          \"ticketPricing\": \"Free\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1421\n          },\n          \"estimatedTime\": \"1 hour\",\n          \"timeTravelFromHotel\": \"N/A\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"theme\": \"The Strip (North) & Departure\",\n      \"activities\": [\n         {\n          \"activityName\": \"LINQ Promenade & High Roller Observation Wheel (Optional)\",\n          \"description\": \"Walk along the LINQ promenade and if budget allows, consider riding the High Roller.\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"ticketPricing\": \"High Roller: ~$25 per person (daytime)\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1165,\n            \"longitude\": -115.1697\n          },\n          \"estimatedTime\": \"2-3 hours (including potential High Roller ride)\",\n          \"timeTravelFromHotel\": \"Bus or Taxi.\"\n        },\n        {\n          \"activityName\": \"Venetian & Palazzo Hotels\",\n          \"description\": \"Explore the Venetian and Palazzo hotels, including the canals and gondola rides. (Gondola rides are an added expense.)\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"ticketPricing\": \"Free to enter, Gondola Ride: ~$36 per person\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.1694\n          },\n          \"estimatedTime\": \"2-3 hours\",\n          \"timeTravelFromHotel\": \"Walking / Bus /Taxi.\"\n        },\n        {\n          \"activityName\": \"Caesars Palace (Forum Shops)\",\n          \"description\": \"Visit Caesars Palace and explore the Forum Shops.\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"ticketPricing\": \"Free to enter, shopping expenses vary\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1756\n          },\n          \"estimatedTime\": \"2-3 hours\",\n          \"timeTravelFromHotel\": \"Walking / Bus /Taxi.\"\n        },\n        {\n          \"activityName\": \"Departure\",\n          \"description\": \"Head to the airport for your flight home.  Allow ample time for travel and airport security.\",\n          \"bestTimeToVisit\": \"Late afternoon/Evening\",\n          \"ticketPricing\": \"N/A\",\n          \"geoCoordinates\": null,\n          \"estimatedTime\": \"Variable, depending on flight time and airport location.\",\n          \"timeTravelFromHotel\": \"Taxi/Rideshare/Airport Shuttle\"\n        }\n      ]\n    }\n  ],\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Fountains of Bellagio and the Fremont Street Experience light show.\",\n    \"Utilize the Deuce bus for transportation on the Strip and to Downtown Las Vegas.\",\n    \"Look for discounted show tickets at discount ticket booths.\",\n    \"Eat at affordable restaurants or buffets.\",\n    \"Bring your own snacks and drinks to avoid overpriced convenience stores on the Strip.\",\n    \"Take advantage of free hotel activities and amenities.\"\n  ]\n}\n```"},
          ],
        },
      ],
    });
  

